<div class="infographic-box infographic-box--medium" tabindex="0">
    <div class="infographic-title">
        <div class="infographic-text">Beach Nourishment Projects</div>
        <!-- iButton start-->
        <div class="iModal">
            <info-directive class="iModal-button" modal-template="ModalTemplate.html"
                            alttext="Graphic of a bar graph showing available beach renourishment projects within 15 miles of the  selected area and how much sand was placed for each project. Bars are colored by year."
                            message="message"
                            modal-img="img/info.svg"
                            modal-title="Beach Nourishment Projects"
                            modal-text="Beach renourishment projects protect the economy and environment of coastal communities.
                        Sand mined for these construction projects (measured in cubic yards, y3) is often removed
                        from state and federal offshore waters. This data is currently only available for South
                        Carolina. New data will be added as it becomes available."

            ></info-directive>


        </div>
        <!-- iButton end-->
        <div class="layertoggle-button" ng-hide="EMvm.AOI.toggleFull===true">
            <div ng-class="EMvm.AOI.EMBeachNourishmentProjectsLayerIsVisible ? 'layertoggle-button--on' : 'layertoggle-button--off'"
                 ng-click="EMvm.AOI.toggleEMBeachNourishmentProjectsLayer()"
                 ng-include="'img/switch_off.svg'"></div>
        </div>
        <div class="layertoggle-text" ng-hide="EMvm.AOI.toggleFull===true">DISPLAY ON MAP
        </div>
    </div>

    <div class="infographic-line">
        <div class="line-img">
            <img src="img/BeachNourishmentGraphicLine.svg">
        </div>
        <span class="infographic-twosizeline--large ">{{EMvm.AOI.EMBeachNourishmentProjects.length}}</span>
        <span class="infographic-twosizeline--small">Within 15 miles</span>
    </div>


    <div class="infographic-dataarea">
        <div class="beachnourish-text">Sand Volume (y<sup>3</sup>) per Beach Nourishment Project
        </div>


        <table class="table-beachnourishment">
            <tr ng-repeat="beach in EMvm.AOI.EMBeachNourishmentProjects | unique: 'BEACH_AREA' | orderBy : 'Dist_Mi'">


                <td ng-if="$odd" class="table-beachnourishment--oddrow">
                    <div>{{beach.BEACH_AREA}}</div>
                    <div>({{beach.Dist_Mi.toFixed(2)}}Mi)</div>
                </td>

                <td ng-if="$even" class="table-beachnourishment--evenrow">
                    <div>{{beach.BEACH_AREA}}</div>
                    <div>({{beach.Dist_Mi.toFixed(2)}}Mi)</div>
                </td>
                <td class="table_beachnourishmentchart">

                    <table>
                        <tr ng-repeat="year in EMvm.AOI.EMBeachNourishmentProjects | filter: {BEACH_AREA: beach.BEACH_AREA}:true | orderBy : 'YEAR'">

                            <td class="beachnourish-row">
                                <div ng-class="'beachnourish-'+year.YEAR" class="beachnourish-bar"
                                     ng-style="{'width': (year.SAND_VOL_C/3400000)*100 + '%' };"></div>
                            </td>
                        </tr>

                    </table>

                </td>
            </tr>
        </table>


        <div class="beachnourish-legend">
            <div class="beachnourish-box">
                <div ng-repeat="yearx in EMvm.AOI.EMBeachNourishmentProjects | unique: 'YEAR' | orderBy : 'YEAR'">
                    <svg width="8" height="8">
                        <rect width="8" height="8" ng-class="'beachnourish-'+yearx.YEAR"/>
                    </svg>
                    {{yearx.YEAR}}
                </div>
            </div>
        </div>
        <div class="beachnourish-scale ">
            <div class="beachnourish-scale--null  "></div>
            <div class="beachnourish-scale--0">0y<sup>3</sup></div>
            <div class="beachnourish-scale--1">1.2My<sup>3</sup></div>
            <div class="beachnourish-scale--3">3.4My<sup>3</sup></div>
        </div>

    </div>
</div>
